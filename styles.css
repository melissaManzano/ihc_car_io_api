/* ===========================
   Retro Arcade Theme (8-bit)
   =========================== */

/* Paleta retro + variables */
:root {
  --bg-0: #9aa0ca;         /* fondo principal */
  --bg-1: #9aa0ca;         /* paneles */
  --bg-2: #9aa0ca;         /* acentos oscuros */
  --fg-0: #e6f3ff;         /* texto principal */
  --fg-dim: #9fb0c6;       /* texto secundario */
  --pix-green: #00ffa3;    /* glow verde */
  --pix-cyan:  #07f0ff;    /* neon cian */
  --pix-pink:  #ff3ef2;    /* neon rosa */
  --pix-yellow:#ffd34d;    /* neon amarillo */
  --danger:    #ff3b3b;    /* rojo 8-bit */
  --success:   #00d47a;
  --warning:   #f9a825;
}

/* Fuente global retro */
.retro-theme {
  background: radial-gradient(1200px 900px at 50% 0%, #131735 0%, var(--bg-0) 60%);
  color: var(--fg-0);
  font-family: "VT323", system-ui, monospace;
  letter-spacing: 0.2px;
  position: relative;
  min-height: 100dvh;
}

/* CRT scanlines opcional */
.crt-scanlines {
  pointer-events: none;
  position: fixed;
  inset: 0;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,0.03) 0px,
      rgba(255,255,255,0.03) 1px,
      rgba(0,0,0,0.05) 2px,
      rgba(0,0,0,0.05) 3px
    );
  mix-blend-mode: overlay;
  opacity: .35;
  z-index: 1;
}

/* Títulos 8-bit */
h1, h2, h3, .card-header, .btn, .nav, .badge {
  font-family: "Press Start 2P", monospace;
  letter-spacing: 1px;
}

/* Cards tipo cartucho */
.card {
  border-radius: 0;
  background: linear-gradient(180deg, var(--bg-1), #0f1225);
  border: 4px solid var(--bg-2);
  box-shadow:
    0 0 0 2px #000 inset,
    0 8px 0 0 #0008,
    0 16px 24px rgba(0,0,0,.5);
  position: relative;
  z-index: 2;
}

.card-header {
  background: repeating-linear-gradient(90deg, #1f254d 0 6px, #15193a 6px 12px);
  color: var(--pix-cyan);
  border-bottom: 4px solid #000;
  text-shadow: 0 0 6px rgba(7,240,255,.6);
}

/* Texto y links */
a, .text-primary { color: var(--pix-cyan) !important; }
.text-muted { color: var(--fg-dim) !important; }

/* Botones arcade (pixel borders) */
.btn {
  border-width: 4px !important;
  border-radius: 0 !important;
  text-transform: uppercase;
  text-shadow: 0 0 4px rgba(0,0,0,.6);
  box-shadow:
    0 0 0 2px #000 inset,
    0 6px 0 0 rgba(0,0,0,.6);
  transition: transform .05s ease, filter .2s ease;
}

.btn:active {
  transform: translateY(2px);
  box-shadow:
    0 0 0 2px #000 inset,
    0 2px 0 0 rgba(0,0,0,.6);
}

.btn-control {
  width: 150px;
  height: 110px;
  font-size: 12px;
  display: grid;
  place-items: center;
}

/* Mapeo de colores a la paleta retro */
.btn-success, .btn-outline-success {
  background: var(--success);
  border-color: #0a7d51;
  color: #04110d;
}
.btn-success:hover, .btn-outline-success:hover { filter: brightness(1.1); }

.btn-secondary {
  background: #6e7aa6;
  border-color: #2b3153;
  color: #0b0e1e;
}

.btn-danger, .stop-btn {
  background: var(--danger) !important;
  border-color: #8f1111 !important;
  color: #1a0000 !important;
}

.btn-outline-warning, .btn-outline-primary {
  background: transparent;
  color: var(--fg-0);
}
.btn-outline-warning { border-color: var(--warning) !important; }
.btn-outline-primary { border-color: var(--pix-cyan) !important; }
.btn-outline-warning:hover { background: rgba(249,168,37,.15); }
.btn-outline-primary:hover { background: rgba(7,240,255,.12); }

/* STOP cuadrado (8-bit) */
.stop-btn {
  width: 130px;
  height: 100px;
  display: grid;
  place-items: center;
  border: 4px solid #8f1111 !important;
  background: #2a0000 !important;
}
.stop-square {
  width: 38px;
  height: 38px;
  background: #ff5252;
  border-radius: 2px;
  box-shadow: 0 0 10px rgba(255,82,82,.6);
}

/* Iconos grandes */
.bi { filter: drop-shadow(0 0 6px rgba(7,240,255,.4)); }

/* Estatus */
#status {
  color: var(--pix-pink);
  text-shadow: 0 0 8px rgba(255,62,242,.6), 0 0 2px #000;
}
#timestamp { color: var(--fg-dim); }

/* Lista de últimos movimientos (ya no se usa pero no estorba) */
#ultimosContainer .list-group-item {
  background: #111530;
  color: var(--fg-0);
  border-color: #0a0d22;
  display: flex; justify-content: space-between; align-items: center;
  font-size: 14px;
}

/* Toast retro */
.toast.text-bg-dark {
  background: #0c0f24 !important;
  border: 3px solid #000 !important;
  box-shadow: 0 0 0 2px #000 inset, 0 6px 0 0 rgba(0,0,0,.6);
}

/* Footer */
footer { color: var(--fg-dim); }

/* ===========================
   Módulo de voz (Tony)
   =========================== */

#btnToggle.btn-dark {
  background: #202642;
  border-color: #0a0e2c;
  color: var(--fg-0);
}
#btnToggle:hover { filter: brightness(1.15); }

#micState {
  font-family: "Press Start 2P", monospace;
  letter-spacing: 1px;
  padding: .25rem .5rem;
  background: #2e345c;
  border: 3px solid #0a0e2c;
}

/* usamos clases "live/off" desde JS si quieres */
#micState.live {
  animation: pulse 1s infinite steps(2,end);
  background: #ff385c;
  border-color: #7d0f21;
  color: #1a0007;
}
#micState.off {
  background: #49507a;
  color: #0d0f1a;
}

@keyframes pulse {
  0% { filter: brightness(0.9); }
  50% { filter: brightness(1.4); }
  100% { filter: brightness(0.9); }
}

.badge.text-bg-light {
  background: #1e2346 !important;
  color: var(--fg-0) !important;
  border: 2px solid #0a0e2c;
  border-radius: 0;
  box-shadow: 0 0 0 1px #000 inset;
}

/* Transcripción / Eventos paneles */
.border.rounded {
  border-radius: 0 !important;
  border-width: 4px !important;
  border-color: #0a0e2c !important;
  background: #0d1030 !important;
}

/* Tablas / listados retro genéricos */
.table, .list-group {
  border-radius: 0 !important;
  border: 2px solid #0a0e2c;
}
.list-group-item {
  border-width: 2px;
}

/* Encabezado principal */
.display-5 {
  color: var(--pix-green);
  text-shadow: 0 0 10px rgba(0,255,163,.6), 0 0 2px #000;
}

/* Espaciados útiles */
.container { position: relative; z-index: 2; }
.row.g-3 > [class^="col-"] { scroll-margin-top: 24px; }

/* Accesibilidad: foco visible 8-bit */
:focus-visible {
  outline: 3px dashed var(--pix-yellow);
  outline-offset: 2px;
}
